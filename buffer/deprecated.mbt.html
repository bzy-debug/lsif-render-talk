<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>deprecated.mbt</title>
  <style>/* ===== Basic ===== */
:root {
  --shiki-lsif-border-color: #c2c2c4;
  --shiki-lsif-popup-bg: #fff;
  --shiki-lsif-popup-color: inherit;
  --shiki-lsif-popup-shadow: rgba(0, 0, 0, 0.08) 0px 1px 4px;
  --shiki-lsif-docs-color: #000;
  --shiki-lsif-docs-font: sans-serif;
  --shiki-lsif-code-font: monospace;
}

.shiki .line {
  font-size: 14px;
}

.shiki .line:has(.line-number:target) {
  background-color: rgb(254, 251, 223);
}

.shiki-lsif {
  line-height: 1.5em;
}

/* Respect people's wishes to not have animations */
@media (prefers-reduced-motion: reduce) {
  .shiki-lsif * {
    transition: none !important;
  }
}

.shiki-lsif code {
  font-family: var(--shiki-lsif-code-font);
}

.shiki-lsif .shiki-lsif-hover {
  border-bottom: 1px solid var(--shiki-lsif-border-color);
  position: relative;
}

.shiki-lsif .shiki-lsif-hover:hover {
  border-bottom: none;
  background-color: rgb(244, 249, 254);
}

.shiki-lsif .shiki-lsif-hover-contents {
  position: absolute;
  display: none;
  background: var(--shiki-lsif-popup-bg);
  left: 0;
  top: 1.2em;
  color: var(--shiki-lsif-popup-color);
  border: 1px solid var(--shiki-lsif-border-color);
  border-radius: 4px;
  pointer-events: auto;
  z-index: 10;
  user-select: text;
  text-align: left;
  box-shadow: var(--shiki-lsif-popup-shadow);
  max-width: 500px;
  width: max-content;
  white-space: normal;
  padding: 6px 8px;
  font-family: var(--shiki-lsif-docs-font);
  color: var(--shiki-lsif-docs-color);
  line-height: 1.5;
}

.shiki-lsif .shiki-lsif-hover:hover .shiki-lsif-hover-contents {
  display: block;
}

/* markup style */

.shiki-lsif .shiki-lsif-hover-contents p,
.shiki-lsif .shiki-lsif-hover-contents pre,
.shiki-lsif .shiki-lsif-hover-contents ul,
.shiki-lsif .shiki-lsif-hover-contents h1,
.shiki-lsif .shiki-lsif-hover-contents h2,
.shiki-lsif .shiki-lsif-hover-contents h3,
.shiki-lsif .shiki-lsif-hover-contents h4,
.shiki-lsif .shiki-lsif-hover-contents h5,
.shiki-lsif .shiki-lsif-hover-contents h6 {
  margin: 8px 0;
}

.shiki-lsif .shiki-lsif-hover-contents h1,
.shiki-lsif .shiki-lsif-hover-contents h2,
.shiki-lsif .shiki-lsif-hover-contents h3,
.shiki-lsif .shiki-lsif-hover-contents h4,
.shiki-lsif .shiki-lsif-hover-contents h5,
.shiki-lsif .shiki-lsif-hover-contents h6 {
  line-height: 1.1;
}

.shiki-lsif .shiki-lsif-hover-contents p:first-child,
.shiki-lsif .shiki-lsif-hover-contents pre:first-child,
.shiki-lsif .shiki-lsif-hover-contents ul:first-child {
  margin-top: 0;
}

.shiki-lsif .shiki-lsif-hover-contents p:last-child,
.shiki-lsif .shiki-lsif-hover-contents pre:last-child,
.shiki-lsif .shiki-lsif-hover-contents ul:last-child {
  margin-bottom: 0;
}

.shiki-lsif .shiki-lsif-hover-contents pre {
  text-wrap: wrap;
}

.shiki-lsif .shiki-lsif-hover-contents ul {
  padding-left: 20px;
}
.shiki-lsif .shiki-lsif-hover-contents ol {
  padding-left: 20px;
}

.shiki-lsif .shiki-lsif-hover-contents li > p {
  margin-bottom: 0;
}

.shiki-lsif .shiki-lsif-hover-contents li > ul {
  margin-top: 0;
}
</style>
  <style>
.line-number {
  width: 1.5em;
  margin-right: 1.5em;
  display: inline-block;
  text-align: right;
  color: #6e7681;
}

/* inter-regular - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Inter";
  font-style: normal;
  font-weight: 400;
  src: url("/lsif-render-talk/fonts/inter-v18-latin-regular.woff2")
    format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}

/* roboto-mono-regular - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: "Roboto Mono";
  font-style: normal;
  font-weight: 400;
  src: url("/lsif-render-talk/fonts/roboto-mono-v23-latin-regular.woff2")
    format("woff2"); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}

:root {
  --shiki-lsif-docs-font: "Inter", sans-serif;
  --shiki-lsif-code-font: "Roboto Mono", monospace;
}

</style>
</head>
<body>
  <pre class="shiki shiki-themes light-plus dark-plus shiki-lsif lsp" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><a class="line-number" id="1">1</a><span style="color:#008000;--shiki-dark:#6A9955">// Copyright 2025 International Digital Economy Academy</span></span>
<span class="line"><a class="line-number" id="2">2</a><span style="color:#008000;--shiki-dark:#6A9955">//</span></span>
<span class="line"><a class="line-number" id="3">3</a><span style="color:#008000;--shiki-dark:#6A9955">// Licensed under the Apache License, Version 2.0 (the "License");</span></span>
<span class="line"><a class="line-number" id="4">4</a><span style="color:#008000;--shiki-dark:#6A9955">// you may not use this file except in compliance with the License.</span></span>
<span class="line"><a class="line-number" id="5">5</a><span style="color:#008000;--shiki-dark:#6A9955">// You may obtain a copy of the License at</span></span>
<span class="line"><a class="line-number" id="6">6</a><span style="color:#008000;--shiki-dark:#6A9955">//</span></span>
<span class="line"><a class="line-number" id="7">7</a><span style="color:#008000;--shiki-dark:#6A9955">//     http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><a class="line-number" id="8">8</a><span style="color:#008000;--shiki-dark:#6A9955">//</span></span>
<span class="line"><a class="line-number" id="9">9</a><span style="color:#008000;--shiki-dark:#6A9955">// Unless required by applicable law or agreed to in writing, software</span></span>
<span class="line"><a class="line-number" id="10">10</a><span style="color:#008000;--shiki-dark:#6A9955">// distributed under the License is distributed on an "AS IS" BASIS,</span></span>
<span class="line"><a class="line-number" id="11">11</a><span style="color:#008000;--shiki-dark:#6A9955">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span class="line"><a class="line-number" id="12">12</a><span style="color:#008000;--shiki-dark:#6A9955">// See the License for the specific language governing permissions and</span></span>
<span class="line"><a class="line-number" id="13">13</a><span style="color:#008000;--shiki-dark:#6A9955">// limitations under the License.</span></span>
<span class="line"><a class="line-number" id="14">14</a></span>
<span class="line"><a class="line-number" id="15">15</a><span style="color:#008000;--shiki-dark:#6A9955">///|</span></span>
<span class="line"><a class="line-number" id="16">16</a><span style="color:#008000;--shiki-dark:#6A9955">/// Return a new string contains the data in buffer.</span></span>
<span class="line"><a class="line-number" id="17">17</a><span style="color:#008000;--shiki-dark:#6A9955">///</span></span>
<span class="line"><a class="line-number" id="18">18</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#deprecated</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Use `Buffer::contents` to read the contents of the buffer"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="19">19</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#coverage.skip</span></span>
<span class="line"><a class="line-number" id="20">20</a><span style="color:#0000FF;--shiki-dark:#569CD6">pub</span><span style="color:#0000FF;--shiki-dark:#569CD6"> fn</span><span style="color:#795E26;--shiki-dark:#DCDCAA"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> String</span></span></code></pre><p>Return a new string contains the data in buffer.</p></div><span style="color:#795E26;--shiki-dark:#DCDCAA">to_string</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">struct</span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> len</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  initial_data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><a class="line-number" id="21">21</a><span style="color:#0000FF;--shiki-dark:#569CD6">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> Bytes</span></span></code></pre><p>Returns a copy of the buffer's content as a sequence of bytes.</p><p>Parameters:</p><ul>
<li><code>buffer</code> : The buffer to read from.</li>
</ul><p>Returns a <code>Bytes</code> object containing all bytes written to the buffer.</p><p>Example:</p><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">test</span><span style="color:#A31515;--shiki-dark:#CE9178"> "contents"</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">()</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Test"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">  inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">    buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(),</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">    content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">      #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">    ,</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  )</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre></div><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">().</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Bytes</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#001080;--shiki-dark:#9CDCFE">offset</span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = .., </span><span style="color:#001080;--shiki-dark:#9CDCFE">length</span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = ..) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> String</span></span></code></pre><p>Return an unchecked string, containing the subsequence of <code>self</code> that starts at
<code>offset</code> and has length <code>length</code>. Both <code>offset</code> and <code>length</code>
are indexed by byte.</p><p>Note this function does not validate the encoding of the byte sequence,
it simply copy the bytes into a new String.</p></div><span style="color:#795E26;--shiki-dark:#DCDCAA">to_unchecked_string</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">offset</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">length</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#000000;--shiki-dark:#D4D4D4">len</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="22">22</a><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span>
<span class="line"><a class="line-number" id="23">23</a></span>
<span class="line"><a class="line-number" id="24">24</a><span style="color:#008000;--shiki-dark:#6A9955">///|</span></span>
<span class="line"><a class="line-number" id="25">25</a><span style="color:#008000;--shiki-dark:#6A9955">/// Return a new unchecked string contains the data in buffer.</span></span>
<span class="line"><a class="line-number" id="26">26</a><span style="color:#008000;--shiki-dark:#6A9955">/// Note this function does not validate the encoding of the byte sequence,</span></span>
<span class="line"><a class="line-number" id="27">27</a><span style="color:#008000;--shiki-dark:#6A9955">/// it simply copy the bytes into a new String.</span></span>
<span class="line"><a class="line-number" id="28">28</a><span style="color:#008000;--shiki-dark:#6A9955">///</span></span>
<span class="line"><a class="line-number" id="29">29</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#deprecated</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Use `Buffer::contents` to read the contents of the buffer"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="30">30</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#coverage.skip</span></span>
<span class="line"><a class="line-number" id="31">31</a><span style="color:#0000FF;--shiki-dark:#569CD6">pub</span><span style="color:#0000FF;--shiki-dark:#569CD6"> fn</span><span style="color:#795E26;--shiki-dark:#DCDCAA"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> String</span></span></code></pre><p>Return a new unchecked string contains the data in buffer.
Note this function does not validate the encoding of the byte sequence,
it simply copy the bytes into a new String.</p></div><span style="color:#795E26;--shiki-dark:#DCDCAA">to_unchecked_string</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">struct</span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> len</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  initial_data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><a class="line-number" id="32">32</a><span style="color:#0000FF;--shiki-dark:#569CD6">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> Bytes</span></span></code></pre><p>Returns a copy of the buffer's content as a sequence of bytes.</p><p>Parameters:</p><ul>
<li><code>buffer</code> : The buffer to read from.</li>
</ul><p>Returns a <code>Bytes</code> object containing all bytes written to the buffer.</p><p>Example:</p><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">test</span><span style="color:#A31515;--shiki-dark:#CE9178"> "contents"</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">()</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Test"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">  inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">    buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(),</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">    content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">      #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">    ,</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  )</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre></div><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">().</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Bytes</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#001080;--shiki-dark:#9CDCFE">offset</span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = .., </span><span style="color:#001080;--shiki-dark:#9CDCFE">length</span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = ..) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> String</span></span></code></pre><p>Return an unchecked string, containing the subsequence of <code>self</code> that starts at
<code>offset</code> and has length <code>length</code>. Both <code>offset</code> and <code>length</code>
are indexed by byte.</p><p>Note this function does not validate the encoding of the byte sequence,
it simply copy the bytes into a new String.</p></div><span style="color:#795E26;--shiki-dark:#DCDCAA">to_unchecked_string</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">offset</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">length</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#000000;--shiki-dark:#D4D4D4">len</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="33">33</a><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span>
<span class="line"><a class="line-number" id="34">34</a></span>
<span class="line"><a class="line-number" id="35">35</a><span style="color:#008000;--shiki-dark:#6A9955">///|</span></span>
<span class="line"><a class="line-number" id="36">36</a><span style="color:#008000;--shiki-dark:#6A9955">/// Write a substring from a given string into the buffer. This is a deprecated</span></span>
<span class="line"><a class="line-number" id="37">37</a><span style="color:#008000;--shiki-dark:#6A9955">/// function, use `write_substring` instead.</span></span>
<span class="line"><a class="line-number" id="38">38</a><span style="color:#008000;--shiki-dark:#6A9955">///</span></span>
<span class="line"><a class="line-number" id="39">39</a><span style="color:#008000;--shiki-dark:#6A9955">/// Parameters:</span></span>
<span class="line"><a class="line-number" id="40">40</a><span style="color:#008000;--shiki-dark:#6A9955">///</span></span>
<span class="line"><a class="line-number" id="41">41</a><span style="color:#008000;--shiki-dark:#6A9955">/// * `self` : The buffer to write into.</span></span>
<span class="line"><a class="line-number" id="42">42</a><span style="color:#008000;--shiki-dark:#6A9955">/// * `string` : The source string from which to extract the substring.</span></span>
<span class="line"><a class="line-number" id="43">43</a><span style="color:#008000;--shiki-dark:#6A9955">/// * `offset` : The starting position in the source string (inclusive).</span></span>
<span class="line"><a class="line-number" id="44">44</a><span style="color:#008000;--shiki-dark:#6A9955">/// * `length` : The number of characters to write from the starting position.</span></span>
<span class="line"><a class="line-number" id="45">45</a><span style="color:#008000;--shiki-dark:#6A9955">///</span></span>
<span class="line"><a class="line-number" id="46">46</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#deprecated</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Use `Buffer::write_substring` instead"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="47">47</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#coverage.skip</span></span>
<span class="line"><a class="line-number" id="48">48</a><span style="color:#0000FF;--shiki-dark:#569CD6">pub</span><span style="color:#0000FF;--shiki-dark:#569CD6"> fn</span><span style="color:#795E26;--shiki-dark:#DCDCAA"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> Unit</span></span></code></pre><p>Write a substring from a given string into the buffer. This is a deprecated
function, use <code>write_substring</code> instead.</p><p>Parameters:</p><ul>
<li><code>self</code> : The buffer to write into.</li>
<li><code>string</code> : The source string from which to extract the substring.</li>
<li><code>offset</code> : The starting position in the source string (inclusive).</li>
<li><code>length</code> : The number of characters to write from the starting position.</li>
</ul></div><span style="color:#795E26;--shiki-dark:#DCDCAA">write_sub_string</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span></span>
<span class="line"><a class="line-number" id="49">49</a><span style="color:#0000FF;--shiki-dark:#569CD6">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">struct</span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> len</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  initial_data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">,</span></span>
<span class="line"><a class="line-number" id="50">50</a><span style="color:#001080;--shiki-dark:#9CDCFE">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">value</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">,</span></span>
<span class="line"><a class="line-number" id="51">51</a><span style="color:#001080;--shiki-dark:#9CDCFE">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">start</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">,</span></span>
<span class="line"><a class="line-number" id="52">52</a><span style="color:#001080;--shiki-dark:#9CDCFE">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">len</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></span>
<span class="line"><a class="line-number" id="53">53</a><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Unit</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">Unit</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><a class="line-number" id="54">54</a><span style="color:#0000FF;--shiki-dark:#569CD6">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span></code></pre></div><span style="color:#0000FF;--shiki-dark:#569CD6">self</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> Unit</span></span></code></pre><p>Writes a portion of a string into the buffer in UTF-16LE encoding.</p><p>Parameters:</p><ul>
<li><code>self</code> : The buffer to write to.</li>
<li><code>str</code> : The source string from which the substring will be taken.</li>
<li><code>offset</code> : The starting position in the source string (inclusive). Must be
non-negative.</li>
<li><code>count</code> : The number of characters to write. Must be non-negative and
<code>offset + count</code> must not exceed the length of the source string.</li>
</ul><p>Example:</p><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">test</span><span style="color:#A31515;--shiki-dark:#CE9178"> "write_substring"</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">()</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_substring</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Hello, World!"</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#098658;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span style="color:#098658;--shiki-dark:#B5CEA8">5</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">  inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">    buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(),</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">    content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">      #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x48\x00\x65\x00\x6c\x00\x6c\x00\x6f\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">    ,</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  )</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre></div><span style="color:#795E26;--shiki-dark:#DCDCAA">write_substring</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">String</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">value</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">start</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">, </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">len</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="55">55</a><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span>
<span class="line"><a class="line-number" id="56">56</a></span>
<span class="line"><a class="line-number" id="57">57</a><span style="color:#008000;--shiki-dark:#6A9955">///|</span></span>
<span class="line"><a class="line-number" id="58">58</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#deprecated</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"use `@buffer.new` instead"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><a class="line-number" id="59">59</a><span style="color:#AF00DB;--shiki-dark:#C586C0">#coverage.skip</span></span>
<span class="line"><a class="line-number" id="60">60</a><span style="color:#0000FF;--shiki-dark:#569CD6">pub</span><span style="color:#0000FF;--shiki-dark:#569CD6"> fn</span><span style="color:#267F99;--shiki-dark:#4EC9B0"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">struct</span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> len</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  initial_data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">::</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = ..) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span></span></code></pre></div><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#098658;--shiki-dark:#B5CEA8">0</span><span style="color:#000000;--shiki-dark:#D4D4D4">) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">struct</span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  mut</span><span style="color:#001080;--shiki-dark:#9CDCFE"> len</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  initial_data</span><span style="color:#000000;--shiki-dark:#D4D4D4">: </span><span style="color:#267F99;--shiki-dark:#4EC9B0">FixedArray</span><span style="color:#000000;--shiki-dark:#D4D4D4">[</span><span style="color:#267F99;--shiki-dark:#4EC9B0">Byte</span><span style="color:#000000;--shiki-dark:#D4D4D4">]</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre><p>Extensible buffer.</p><p>It provides accumulative concatenation of bytes in linear time.
The capacity of buffer will automatically expand as necessary.</p><p>Note: StringBuilder is recommended for string concatenation in favor of
Buffer, since it is optimized for all targets.</p><h1>Usage</h1><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">100</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"Tes"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_char</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">'t'</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">contents</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">  #|</span><span style="color:#A31515;--shiki-dark:#CE9178">b"\x54\x00\x65\x00\x73\x00\x74\x00"</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span></code></pre></div><span style="color:#267F99;--shiki-dark:#4EC9B0">T</span></span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><a class="line-number" id="61">61</a><span style="color:#795E26;--shiki-dark:#DCDCAA">  </span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">~ : </span><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = ..) </span><span style="color:#0000FF;--shiki-dark:#569CD6">-></span><span style="color:#267F99;--shiki-dark:#4EC9B0"> T</span></span></code></pre><p>Creates a new extensible buffer with specified initial capacity. If the
initial capacity is less than 1, the buffer will be initialized with capacity
1.</p><p>Parameters:</p><ul>
<li><code>size_hint</code> : Initial capacity of the buffer in bytes. Defaults to 0.</li>
</ul><p>Returns a new buffer of type <code>T</code>.</p><p>Example:</p><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">test</span><span style="color:#A31515;--shiki-dark:#CE9178"> "new"</span><span style="color:#000000;--shiki-dark:#D4D4D4"> {</span></span>
<span class="line"><span style="color:#0000FF;--shiki-dark:#569CD6">  let</span><span style="color:#001080;--shiki-dark:#9CDCFE"> buf</span><span style="color:#000000;--shiki-dark:#D4D4D4"> = </span><span style="color:#267F99;--shiki-dark:#4EC9B0">@buffer</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#098658;--shiki-dark:#B5CEA8">10</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">  inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">length</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#A31515;--shiki-dark:#CE9178">"0"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#001080;--shiki-dark:#9CDCFE">  buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">write_string</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#A31515;--shiki-dark:#CE9178">"test"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#795E26;--shiki-dark:#DCDCAA">  inspect!</span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span style="color:#001080;--shiki-dark:#9CDCFE">buf</span><span style="color:#000000;--shiki-dark:#D4D4D4">.</span><span style="color:#795E26;--shiki-dark:#DCDCAA">length</span><span style="color:#000000;--shiki-dark:#D4D4D4">(), </span><span style="color:#001080;--shiki-dark:#9CDCFE">content</span><span style="color:#000000;--shiki-dark:#D4D4D4">=</span><span style="color:#A31515;--shiki-dark:#CE9178">"8"</span><span style="color:#000000;--shiki-dark:#D4D4D4">)</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span></code></pre></div><span style="color:#795E26;--shiki-dark:#DCDCAA">new</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">(</span><span class="shiki-lsif-hover"><div class="shiki-lsif-hover-contents"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4" tabindex="0"><code><span class="line"><span style="color:#267F99;--shiki-dark:#4EC9B0">Int</span></span></code></pre></div><span style="color:#001080;--shiki-dark:#9CDCFE">size_hint</span></span><span style="color:#000000;--shiki-dark:#D4D4D4">~)</span></span>
<span class="line"><a class="line-number" id="62">62</a><span style="color:#000000;--shiki-dark:#D4D4D4">}</span></span>
<span class="line"><a class="line-number" id="63">63</a></span></code></pre>
</body>
</html>